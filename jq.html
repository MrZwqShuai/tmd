// 选择器封装
var getTag = function(tag,results){
	results = results || [] ;
	results.push.apply(results,document.getElementByTagName(tag)) ;
    return results ;
}
// 例子进行改良
var list = getTag('div') ;
list = getTag('p',list) ;
each(list,function(){
	this.style.backgroundColor = 'red' ;
})

// 仿jqeach方法优化 ;
var each = function(arr,fn){
	for(var i = 0 ; i<arr.length ; i++ ){
		if(fn.call(arr[i],i,arr[i]) === false){
			break ;
		}
	}
}

each(arr,function(i,v){
	console.log(this) ;
})
